Некорректный расчёт скидки

Заголовок: Wrong discount applied when using promo code on sale items
Платформа: Web
Пользователь: авторизованный, тип аккаунта – Premium

Шаги воспроизведения:
Добавить товар со скидкой 20% в корзину
Ввести промокод EXTRA10

Фактический результат: Применяется только 10% вместо 10% к уже сниженной цене
Ожидаемый результат: Должно быть 20% (скидка товара) + 10% (дополнительно от промокода)

Приоритет: Средний